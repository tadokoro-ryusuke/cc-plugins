# Testing Rules

## カバレッジ目標

- **最小**: 80% カバレッジ
- **推奨**: 90% カバレッジ（重要なビジネスロジック）

## 3 段階テスト戦略

### 1. ユニットテスト

- 個々の関数/クラスをテスト
- モック/スタブを適切に使用
- 境界値とエッジケースをカバー

### 2. 統合テスト

- コンポーネント間の連携をテスト
- API エンドポイントをテスト
- データベース操作をテスト

### 3. E2E テスト

- ユーザーフローをテスト
- Playwright/Cypress を使用
- クリティカルパスを優先

## TDD プロセス

1. **Red**: 失敗するテストを先に書く
2. **Green**: テストをパスする最小限のコードを書く
3. **Refactor**: コード品質を改善
4. **Commit**: 変更を保存

## テスト命名規約

```typescript
describe("機能名", () => {
  it("条件の場合、期待する結果になる", () => {});
});
```

## 禁止事項

- `skip` や `only` を本番コードに残さない
- 意味のないテスト（常に成功するテスト）
- 実装の詳細に依存するテスト
